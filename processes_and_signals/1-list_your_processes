#!/usr/bin/env bash
#List your processes

# Get the list of all running processes
processes=$(ps -eo pid,user,ppid,%mem,%cpu,cmd --sort=-%mem | awk '{OFS=","; print $1,$2,$3,$4,$5,$6}')

# Print the header
printf "%-7s %-10s %-10s %-7s %-7s %-s\n" "PID" "USER" "PPID" "%MEM" "%CPU" "COMMAND"

# Loop through each process
while IFS=',' read -r pid user ppid mem cpu cmd; do
  # Print process details
  printf "%-7s %-10s %-10s %-7s %-7s %-s\n" "$pid" "$user" "$ppid" "$mem" "$cpu" "$cmd"
done <<< "$processes"
